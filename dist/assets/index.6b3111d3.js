import{P as e,O as t,V as i,M as n,C as s,R as r,D as o,W as a,S as l,a as c,T as d}from"./vendor.11c05821.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const i of e)if("childList"===i.type)for(const e of i.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class h extends e{constructor(e={}){var i;super(null==e?void 0:e.fov,null==e?void 0:e.aspect,null==e?void 0:e.near,null==e?void 0:e.far),this.time=0,this.canControl=!0,(null==e?void 0:e.canvas)&&this.canControl&&(this.controls=new t(this,null==e?void 0:e.canvas),this.controls.enableDamping=(null==e?void 0:e.enableDamping)||!1,this.controls.dampingFactor=null!=(i=null==e?void 0:e.dampingFactor)?i:.2)}init(){this.position.set(-10,5,20),this.lookAt(new i(0,0,0))}resize(e){this.aspect=e.x/e.y,this.updateProjectionMatrix()}update(e){this.time+=e,this.controls&&this.controls.update()}}class u extends n{constructor(e){super(new s(5,5,18,32,1,!0),new r({vertexShader:"attribute vec3 position;\nattribute vec3 normal;\nattribute vec3 uv;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float time;\nvarying vec3 vUv;\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n",fragmentShader:"precision highp float;\nuniform float time;\nuniform sampler2D texture;\nvarying vec3 vUv;\n\nvoid main() {\n  vec2 uv = vec2(1. - vUv.y, vUv.x);\n  uv = fract(uv.xy * vec2(1., 8.) );\n  vec4 tex = texture2D(texture, uv);\n  if(tex.a <= .3) {\n    discard;\n  } else {\n    gl_FragColor = tex;\n  }\n}\n",uniforms:{time:{value:0},texture:{value:e}},side:o})),this.time=0,this.rotateZ(Math.PI/2)}update(e){this.time+=e;const t=this.time;this.material.uniforms.time.value=t,this.rotation.x=t/5}}class m{constructor(e){this.canvas=e,this.time=0,this.resolution={x:window.innerWidth,y:window.innerHeight},this.texture=null,this.renderer=new a({canvas:e,alpha:!0,antialias:!0}),this.scene=new l,this.camera=new h({fov:50,aspect:this.resolution.x/this.resolution.y,far:1e3,canvas:e,enableDamping:!0,dampingFactor:.05}),this.clock=new c(!0),this.cylinder=null,this.init().then(this.start.bind(this))}resize(e,t){this.resolution.x=e,this.resolution.y=t,this.renderer.setSize(this.resolution.x,this.resolution.y),this.camera.resize(this.resolution)}async init(){const e=new d,t=await e.loadAsync("/assets/texture.a9631005.png");this.cylinder=new u(t),this.scene.add(this.cylinder),this.camera.init(),this.setRenderer()}start(){this.animate()}animate(){const e=this.clock.getDelta();this.time+=e,this.camera.update(e),this.cylinder.update(e),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.animate.bind(this))}setRenderer(){this.renderer.setSize(this.resolution.x,this.resolution.y),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.clearColor("#ffffff")}}new class{constructor(){const e=document.querySelector("#canvas");this.glContent=new m(e),this.bind()}bind(){window.addEventListener("resize",this.handleResize.bind(this))}handleResize(){this.glContent.resize(window.innerWidth,window.innerHeight)}};
